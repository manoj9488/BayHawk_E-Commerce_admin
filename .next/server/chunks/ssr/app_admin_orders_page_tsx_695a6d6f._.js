module.exports=[73579,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(54161),g=a.i(87682),h=a.i(76504),i=a.i(21958),j=a.i(8370),k=a.i(65733),l=a.i(7379),m=a.i(46842),n=a.i(63519),o=a.i(92258),p=a.i(24987),q=a.i(83497),r=a.i(10227),s=a.i(11156),t=a.i(41710),u=a.i(63910);function v({order:a,open:c,onOpenChange:d}){return a?(0,b.jsx)(k.Dialog,{open:c,onOpenChange:d,children:(0,b.jsxs)(k.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.DialogTitle,{className:"text-xl",children:a.orderNumber}),(0,b.jsxs)(k.DialogDescription,{children:["Created on ",new Date(a.createdAt).toLocaleString()]})]}),(0,b.jsx)(f.Badge,{className:{received:"bg-blue-500/20 text-blue-400 border-blue-500/30",processing:"bg-warning/20 text-warning border-warning/30",packed:"bg-chart-4/20 text-chart-4 border-chart-4/30",out_for_delivery:"bg-chart-1/20 text-chart-1 border-chart-1/30",delivered:"bg-success/20 text-success border-success/30",cancelled:"bg-destructive/20 text-destructive border-destructive/30"}[a.status],variant:"outline",children:a.status.replace(/_/g," ")})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(m.User,{className:"h-4 w-4"}),"Customer Information"]}),(0,b.jsxs)("div",{className:"grid gap-3 p-4 rounded-lg bg-secondary/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.User,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.customer.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.customer.phone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.customer.email})]}),(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(p.MapPin,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),(0,b.jsx)("span",{children:a.customer.address})]})]})]}),(0,b.jsx)(l.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(q.Package,{className:"h-4 w-4"}),"Order Items"]}),(0,b.jsx)("div",{className:"rounded-lg border border-border overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-secondary/50",children:[(0,b.jsx)("th",{className:"text-left py-2 px-4 text-sm font-medium",children:"Item"}),(0,b.jsx)("th",{className:"text-center py-2 px-4 text-sm font-medium",children:"Qty"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 text-sm font-medium",children:"Price"}),(0,b.jsx)("th",{className:"text-right py-2 px-4 text-sm font-medium",children:"Total"})]})}),(0,b.jsx)("tbody",{children:a.items.map(a=>(0,b.jsxs)("tr",{className:"border-t border-border/50",children:[(0,b.jsx)("td",{className:"py-2 px-4",children:a.name}),(0,b.jsxs)("td",{className:"py-2 px-4 text-center",children:[a.quantity," ",a.unit]}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right",children:["₹",a.price]}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right font-medium",children:["₹",a.quantity*a.price]})]},a.id))}),(0,b.jsx)("tfoot",{children:(0,b.jsxs)("tr",{className:"border-t border-border bg-secondary/30",children:[(0,b.jsx)("td",{colSpan:3,className:"py-2 px-4 text-right font-semibold",children:"Total"}),(0,b.jsxs)("td",{className:"py-2 px-4 text-right font-bold text-lg",children:["₹",a.total]})]})})]})})]}),(0,b.jsx)(l.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(r.Truck,{className:"h-4 w-4"}),"Delivery Info"]}),(0,b.jsxs)("div",{className:"space-y-2 p-4 rounded-lg bg-secondary/30",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(t.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:["Slot: ",a.deliverySlot]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(u.Building,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:["Hub: ",a.hub]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(p.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("span",{children:["Zone: ",a.zone]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(s.CreditCard,{className:"h-4 w-4"}),"Payment Info"]}),(0,b.jsxs)("div",{className:"space-y-2 p-4 rounded-lg bg-secondary/30",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Method:"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"capitalize",children:a.paymentMethod})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"paid"===a.paymentStatus?"bg-success/20 text-success":"failed"===a.paymentStatus?"bg-destructive/20 text-destructive":"bg-warning/20 text-warning",children:a.paymentStatus})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Source:"}),(0,b.jsx)(f.Badge,{variant:"outline",className:"capitalize",children:a.source})]})]})]})]}),(0,b.jsx)(l.Separator,{}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Update Status"}),(0,b.jsxs)(g.Select,{defaultValue:a.status,children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"received",children:"Received"}),(0,b.jsx)(g.SelectItem,{value:"processing",children:"Processing"}),(0,b.jsx)(g.SelectItem,{value:"packed",children:"Packed"}),(0,b.jsx)(g.SelectItem,{value:"out_for_delivery",children:"Out for Delivery"}),(0,b.jsx)(g.SelectItem,{value:"delivered",children:"Delivered"}),(0,b.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Assign Delivery Partner"}),(0,b.jsxs)(g.Select,{defaultValue:a.assignedTo,children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Select agent"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"DEL-001",children:"Suresh Kumar"}),(0,b.jsx)(g.SelectItem,{value:"DEL-002",children:"Kavitha R"}),(0,b.jsx)(g.SelectItem,{value:"DEL-003",children:"Murugan S"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>d(!1),children:"Close"}),(0,b.jsx)(e.Button,{children:"Save Changes"})]})]})]})}):null}var w=a.i(5522),x=a.i(17171),y=a.i(46893),z=a.i(15618),A=a.i(81560),B=a.i(95116);function C({open:a,onOpenChange:d,onCreateOrder:f}){let[h,i]=(0,c.useState)([{productId:"",quantity:1}]),[j,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),H=(a,b,c)=>{let d=[...h];d[a]={...d[a],[b]:c},i(d)},I=()=>h.reduce((a,b)=>{let c=B.mockProducts.find(a=>a.id===b.productId);return a+(c?.price||0)*b.quantity},0);return(0,b.jsx)(k.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(k.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Create Manual Order"}),(0,b.jsx)(k.DialogDescription,{children:"Create a new order manually for customers from other sources"})]}),(0,b.jsxs)("form",{className:"space-y-6",onSubmit:a=>{a.preventDefault();let b=h.filter(a=>a.productId).map((a,b)=>{let c=B.mockProducts.find(b=>b.id===a.productId);return{id:`item-${Date.now()}-${b}`,productId:a.productId,name:c?.name||"",quantity:a.quantity,price:c?.price||0,unit:c?.unit||"kg"}}),c=B.mockHubs.find(a=>a.id===v)?.name||v;f({id:`order-${Date.now()}`,orderNumber:`ORD-${new Date().getFullYear()}-${String(Date.now()).slice(-4)}`,customer:{name:j,phone:n,email:p,address:r},items:b,status:"received",source:t,paymentMethod:F,paymentStatus:"cod"===F?"pending":"paid",total:I(),deliverySlot:D,hub:c,zone:"Zone A",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),i([{productId:"",quantity:1}]),m(""),o(""),q(""),s(""),u(""),C(""),E(""),G(""),d(!1)},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Customer Information"}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"name",children:"Full Name"}),(0,b.jsx)(w.Input,{id:"name",placeholder:"Enter customer name",value:j,onChange:a=>m(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(w.Input,{id:"phone",placeholder:"+91 98765 43210",value:n,onChange:a=>o(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"email",children:"Email (Optional)"}),(0,b.jsx)(w.Input,{id:"email",type:"email",placeholder:"customer@email.com",value:p,onChange:a=>q(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"source",children:"Order Source"}),(0,b.jsxs)(g.Select,{value:t,onValueChange:u,required:!0,children:[(0,b.jsx)(g.SelectTrigger,{id:"source",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select source"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"whatsapp",children:"WhatsApp"}),(0,b.jsx)(g.SelectItem,{value:"instagram",children:"Instagram"}),(0,b.jsx)(g.SelectItem,{value:"facebook",children:"Facebook"}),(0,b.jsx)(g.SelectItem,{value:"phone",children:"Phone Call"}),(0,b.jsx)(g.SelectItem,{value:"manual",children:"Walk-in"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,b.jsx)(x.Label,{htmlFor:"address",children:"Delivery Address"}),(0,b.jsx)(y.Textarea,{id:"address",placeholder:"Enter full delivery address",rows:2,value:r,onChange:a=>s(a.target.value),required:!0})]})]})]}),(0,b.jsx)(l.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Order Items"}),(0,b.jsxs)(e.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{i([...h,{productId:"",quantity:1}])},children:[(0,b.jsx)(z.Plus,{className:"h-4 w-4 mr-1"}),"Add Item"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:h.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3 items-end",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(x.Label,{children:"Product"}),(0,b.jsxs)(g.Select,{value:a.productId,onValueChange:a=>H(c,"productId",a),children:[(0,b.jsx)(g.SelectTrigger,{children:(0,b.jsx)(g.SelectValue,{placeholder:"Select product"})}),(0,b.jsx)(g.SelectContent,{children:B.mockProducts.map(a=>(0,b.jsxs)(g.SelectItem,{value:a.id,children:[a.name," - ₹",a.price,"/",a.unit]},a.id))})]})]}),(0,b.jsxs)("div",{className:"w-24 space-y-2",children:[(0,b.jsx)(x.Label,{children:"Quantity"}),(0,b.jsx)(w.Input,{type:"number",min:1,value:a.quantity,onChange:a=>H(c,"quantity",Number.parseInt(a.target.value)||1)})]}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{i(h.filter((a,b)=>b!==c))},disabled:1===h.length,className:"text-destructive hover:text-destructive",children:(0,b.jsx)(A.Trash2,{className:"h-4 w-4"})})]},c))}),(0,b.jsx)("div",{className:"mt-4 text-right",children:(0,b.jsxs)("p",{className:"text-lg font-semibold",children:["Total: ",(0,b.jsxs)("span",{className:"text-primary",children:["₹",I()]})]})})]}),(0,b.jsx)(l.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-3",children:"Delivery Information"}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"hub",children:"Hub"}),(0,b.jsxs)(g.Select,{value:v,onValueChange:C,required:!0,children:[(0,b.jsx)(g.SelectTrigger,{id:"hub",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select hub"})}),(0,b.jsx)(g.SelectContent,{children:B.mockHubs.map(a=>(0,b.jsx)(g.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"slot",children:"Delivery Slot"}),(0,b.jsxs)(g.Select,{value:D,onValueChange:E,required:!0,children:[(0,b.jsx)(g.SelectTrigger,{id:"slot",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select slot"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"6:00 AM - 8:00 AM",children:"6:00 AM - 8:00 AM"}),(0,b.jsx)(g.SelectItem,{value:"8:00 AM - 10:00 AM",children:"8:00 AM - 10:00 AM"}),(0,b.jsx)(g.SelectItem,{value:"10:00 AM - 12:00 PM",children:"10:00 AM - 12:00 PM"}),(0,b.jsx)(g.SelectItem,{value:"2:00 PM - 4:00 PM",children:"2:00 PM - 4:00 PM"}),(0,b.jsx)(g.SelectItem,{value:"4:00 PM - 6:00 PM",children:"4:00 PM - 6:00 PM"}),(0,b.jsx)(g.SelectItem,{value:"6:00 PM - 8:00 PM",children:"6:00 PM - 8:00 PM"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Label,{htmlFor:"payment",children:"Payment Method"}),(0,b.jsxs)(g.Select,{value:F,onValueChange:G,required:!0,children:[(0,b.jsx)(g.SelectTrigger,{id:"payment",children:(0,b.jsx)(g.SelectValue,{placeholder:"Select method"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"cod",children:"Cash on Delivery"}),(0,b.jsx)(g.SelectItem,{value:"online",children:"Online Payment"}),(0,b.jsx)(g.SelectItem,{value:"wallet",children:"Wallet"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",children:"Create Order"})]})]})]})})}var D=a.i(43672),E=a.i(7706);function F({order:a,open:d,onOpenChange:f,onAssignAgent:g}){let{deliveryAgents:h}=(0,D.useStore)(),[i,j]=(0,c.useState)(null);return(0,b.jsx)(k.Dialog,{open:d,onOpenChange:f,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Assign Delivery Agent"}),(0,b.jsxs)(k.DialogDescription,{children:["Assign order ",a?.orderNumber," to a delivery agent."]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:h.map(a=>(0,b.jsx)("div",{className:`p-4 border rounded-lg cursor-pointer ${i===a.id?"border-primary":""}`,onClick:()=>j(a.id),children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(E.Avatar,{children:[(0,b.jsx)(E.AvatarImage,{src:a.avatar}),(0,b.jsx)(E.AvatarFallback,{children:a.name.charAt(0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.phone})]})]})},a.id))}),(0,b.jsx)(e.Button,{onClick:()=>{a&&i&&(g(a.id,i),f(!1))},disabled:!i,children:"Assign"})]})]})})}var G=a.i(17755),H=a.i(77156),I=a.i(24569),J=a.i(71931),K=a.i(67937),K=K,L=a.i(81464),M=a.i(33508),N=a.i(84505),O=a.i(69520),P=a.i(23292),Q=a.i(56711),R=a.i(97895),S=a.i(30330),T=a.i(30342);function U(){let{orders:a,hubs:k,deliverySlots:l,addOrder:m,updateOrder:n}=(0,D.useStore)(),[o,p]=(0,c.useState)(null),[q,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,A]=(0,c.useState)("all"),[B,E]=(0,c.useState)("all"),[U,V]=(0,c.useState)("all"),[W,X]=(0,c.useState)("all"),[Y,Z]=(0,c.useState)("all"),[$,_]=(0,c.useState)("all"),[aa,ab]=(0,c.useState)(),[ac,ad]=(0,c.useState)(!1),ae=a.filter(a=>!("all"!==y&&a.status!==y||"all"!==B&&a.source!==B||"all"!==U&&a.hub!==U||"all"!==W&&a.zone!==W||"all"!==Y&&a.paymentMethod!==Y||"all"!==$&&a.deliverySlot!==$||aa?.from&&new Date(a.createdAt)<aa.from||aa?.to&&new Date(a.createdAt)>aa.to)),af={all:a.length,received:a.filter(a=>"received"===a.status).length,processing:a.filter(a=>"processing"===a.status).length,packed:a.filter(a=>"packed"===a.status).length,out_for_delivery:a.filter(a=>"out_for_delivery"===a.status).length,delivered:a.filter(a=>"delivered"===a.status).length},ag={received:"bg-blue-500/20 text-blue-400 border-blue-500/30",processing:"bg-warning/20 text-warning border-warning/30",packed:"bg-chart-4/20 text-chart-4 border-chart-4/30",out_for_delivery:"bg-chart-1/20 text-chart-1 border-chart-1/30",delivered:"bg-success/20 text-success border-success/30",cancelled:"bg-destructive/20 text-destructive border-destructive/30"},ah=(a,b)=>{n(a,{status:b}),P.toast.success(`Order status updated to ${b.replace(/_/g," ")}`)},ai=[{key:"orderNumber",header:"Order ID",cell:a=>(0,b.jsx)("span",{className:"font-mono text-sm font-medium",children:a.orderNumber})},{key:"customer",header:"Customer",cell:a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.customer.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.customer.phone})]})},{key:"source",header:"Source",cell:a=>(0,b.jsx)(f.Badge,{variant:"outline",className:"capitalize",children:a.source})},{key:"items",header:"Items",cell:a=>(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.items.length," items"]})},{key:"status",header:"Status",cell:a=>(0,b.jsx)(f.Badge,{className:ag[a.status],variant:"outline",children:a.status.replace(/_/g," ")})},{key:"payment",header:"Payment",cell:a=>(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Badge,{variant:"outline",className:"paid"===a.paymentStatus?"bg-success/20 text-success":"failed"===a.paymentStatus?"bg-destructive/20 text-destructive":"bg-warning/20 text-warning",children:a.paymentStatus}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:a.paymentMethod})]})},{key:"total",header:"Total",cell:a=>(0,b.jsxs)("span",{className:"font-semibold",children:["₹",a.total]})},{key:"slot",header:"Delivery Slot",cell:a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm",children:a.deliverySlot}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.hub})]})},{key:"actions",header:"Actions",cell:a=>(0,b.jsxs)(h.DropdownMenu,{children:[(0,b.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(G.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(h.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(h.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(h.DropdownMenuSeparator,{}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>{p(a),s(!0)},children:[(0,b.jsx)(H.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>ah(a.id,"processing"),children:[(0,b.jsx)(I.Edit,{className:"mr-2 h-4 w-4"}),"Mark Processing"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>ah(a.id,"packed"),children:[(0,b.jsx)(r.Truck,{className:"mr-2 h-4 w-4"}),"Mark Packed"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>{p(a),x(!0)},children:[(0,b.jsx)(r.Truck,{className:"mr-2 h-4 w-4"}),"Out for Delivery"]}),(0,b.jsxs)(h.DropdownMenuItem,{onClick:()=>ah(a.id,"delivered"),children:[(0,b.jsx)(J.Printer,{className:"mr-2 h-4 w-4"}),"Mark Delivered"]}),(0,b.jsx)(h.DropdownMenuSeparator,{}),(0,b.jsxs)(h.DropdownMenuItem,{className:"text-destructive",onClick:()=>{n(a.id,{status:"cancelled"}),P.toast.success("Order cancelled")},children:[(0,b.jsx)(M.X,{className:"mr-2 h-4 w-4"}),"Cancel Order"]})]})]})}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Order Management"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"View and manage all orders from multiple sources"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"icon",children:(0,b.jsx)(O.RefreshCw,{className:"h-4 w-4"})}),(0,b.jsxs)(e.Button,{variant:"outline",children:[(0,b.jsx)(N.Download,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,b.jsxs)(e.Button,{onClick:()=>u(!0),children:[(0,b.jsx)(z.Plus,{className:"mr-2 h-4 w-4"}),"Create Order"]})]})]}),(0,b.jsx)(i.Tabs,{defaultValue:"all",onValueChange:a=>A(a),children:(0,b.jsxs)(i.TabsList,{className:"flex-wrap h-auto gap-1 bg-transparent p-0",children:[(0,b.jsxs)(i.TabsTrigger,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:["All Orders (",af.all,")"]}),(0,b.jsxs)(i.TabsTrigger,{value:"received",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white",children:["Received (",af.received,")"]}),(0,b.jsxs)(i.TabsTrigger,{value:"processing",className:"data-[state=active]:bg-warning data-[state=active]:text-warning-foreground",children:["Processing (",af.processing,")"]}),(0,b.jsxs)(i.TabsTrigger,{value:"packed",className:"data-[state=active]:bg-chart-4 data-[state=active]:text-white",children:["Packed (",af.packed,")"]}),(0,b.jsxs)(i.TabsTrigger,{value:"out_for_delivery",className:"data-[state=active]:bg-chart-1 data-[state=active]:text-primary-foreground",children:["Out for Delivery (",af.out_for_delivery,")"]}),(0,b.jsxs)(i.TabsTrigger,{value:"delivered",className:"data-[state=active]:bg-success data-[state=active]:text-success-foreground",children:["Delivered (",af.delivered,")"]})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(e.Button,{variant:ac?"secondary":"outline",size:"sm",onClick:()=>ad(!ac),children:[(0,b.jsx)(L.Filter,{className:"mr-2 h-4 w-4"}),"Filters"]}),ac&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(T.Popover,{children:[(0,b.jsx)(T.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{id:"date",variant:"outline",className:(0,R.cn)("w-[300px] justify-start text-left font-normal",!aa&&"text-muted-foreground"),children:[(0,b.jsx)(K.default,{className:"mr-2 h-4 w-4"}),aa?.from?aa.to?(0,b.jsxs)(b.Fragment,{children:[(0,Q.format)(aa.from,"LLL dd, y")," -"," ",(0,Q.format)(aa.to,"LLL dd, y")]}):(0,Q.format)(aa.from,"LLL dd, y"):(0,b.jsx)("span",{children:"Pick a date"})]})}),(0,b.jsx)(T.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,b.jsx)(S.Calendar,{initialFocus:!0,mode:"range",defaultMonth:aa?.from,selected:aa,onSelect:ab,numberOfMonths:2})})]}),(0,b.jsxs)(g.Select,{value:B,onValueChange:E,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[150px]",children:(0,b.jsx)(g.SelectValue,{placeholder:"Source"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Sources"}),(0,b.jsx)(g.SelectItem,{value:"app",children:"App"}),(0,b.jsx)(g.SelectItem,{value:"web",children:"Website"}),(0,b.jsx)(g.SelectItem,{value:"whatsapp",children:"WhatsApp"}),(0,b.jsx)(g.SelectItem,{value:"instagram",children:"Instagram"}),(0,b.jsx)(g.SelectItem,{value:"facebook",children:"Facebook"}),(0,b.jsx)(g.SelectItem,{value:"manual",children:"Manual"})]})]}),(0,b.jsxs)(g.Select,{value:U,onValueChange:V,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(g.SelectValue,{placeholder:"Hub"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Hubs"}),k.map(a=>(0,b.jsx)(g.SelectItem,{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)(g.Select,{value:W,onValueChange:X,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(g.SelectValue,{placeholder:"Zone"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Zones"}),k.flatMap(a=>a.zones).map(a=>(0,b.jsx)(g.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(g.Select,{value:Y,onValueChange:Z,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(g.SelectValue,{placeholder:"Payment Method"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Methods"}),(0,b.jsx)(g.SelectItem,{value:"cod",children:"COD"}),(0,b.jsx)(g.SelectItem,{value:"online",children:"Online"}),(0,b.jsx)(g.SelectItem,{value:"wallet",children:"Wallet"})]})]}),(0,b.jsxs)(g.Select,{value:$,onValueChange:_,children:[(0,b.jsx)(g.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(g.SelectValue,{placeholder:"Delivery Slot"})}),(0,b.jsxs)(g.SelectContent,{children:[(0,b.jsx)(g.SelectItem,{value:"all",children:"All Slots"}),l.map(a=>(0,b.jsx)(g.SelectItem,{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",onClick:()=>{A("all"),E("all"),V("all"),X("all"),Z("all"),_("all"),ab(void 0)},children:[(0,b.jsx)(M.X,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsx)(j.DataTable,{data:ae,columns:ai,searchPlaceholder:"Search orders by ID, customer name, phone...",onExport:()=>P.toast.success("Orders exported successfully!")})})}),(0,b.jsx)(v,{order:o,open:q,onOpenChange:s,onUpdateStatus:ah}),(0,b.jsx)(C,{open:t,onOpenChange:u,onCreateOrder:a=>{m(a),P.toast.success("Order created successfully!")}}),(0,b.jsx)(F,{order:o,open:w,onOpenChange:x,onAssignAgent:(a,b)=>{n(a,{status:"out_for_delivery",assignedTo:b}),P.toast.success(`Order assigned to agent ${b}`)}})]})}a.s(["default",()=>U],73579)}];

//# sourceMappingURL=app_admin_orders_page_tsx_695a6d6f._.js.map