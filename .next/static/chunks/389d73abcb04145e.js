(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88511,e=>{"use strict";let s=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>s],88511)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612)},89200,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(47163);function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...a})})}function i({className:e,...a}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...a})}function r({className:e,...a}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...a})}function c({className:e,...a}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function n({className:e,...a}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function d({className:e,...a}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}var o=e.i(67881),x=e.i(23750),u=e.i(62870),h=e.i(73375),m=e.i(63059),p=e.i(75254);let j=(0,p.default)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),v=(0,p.default)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var g=e.i(55436),y=e.i(40160);function f({data:e,columns:t,searchPlaceholder:p="Search...",onSearch:f,onExport:N,filters:b}){let[C,w]=(0,a.useState)(1),[k,D]=(0,a.useState)(10),[S,T]=(0,a.useState)(""),M=Math.ceil(e.length/k),L=(C-1)*k,F=L+k,I=e.slice(L,F);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,s.jsx)(g.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(x.Input,{placeholder:p,value:S,onChange:e=>{var s;T(s=e.target.value),w(1),f?.(s)},className:"pl-9"})]}),b]}),N&&(0,s.jsxs)(o.Button,{variant:"outline",onClick:N,children:[(0,s.jsx)(y.Download,{className:"mr-2 h-4 w-4"}),"Export"]})]}),(0,s.jsx)("div",{className:"rounded-lg border border-border overflow-hidden",children:(0,s.jsxs)(l,{children:[(0,s.jsx)(i,{children:(0,s.jsx)(c,{className:"bg-secondary/50",children:t.map(e=>(0,s.jsx)(n,{className:"font-medium",children:e.header},e.key))})}),(0,s.jsx)(r,{children:0===I.length?(0,s.jsx)(c,{children:(0,s.jsx)(d,{colSpan:t.length,className:"h-24 text-center text-muted-foreground",children:"No results found."})}):I.map(e=>(0,s.jsx)(c,{className:"hover:bg-secondary/30",children:t.map(a=>(0,s.jsx)(d,{children:a.cell(e)},a.key))},e.id))})]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:"Showing"}),(0,s.jsxs)(u.Select,{value:k.toString(),onValueChange:e=>{D(Number(e)),w(1)},children:[(0,s.jsx)(u.SelectTrigger,{className:"w-[70px]",children:(0,s.jsx)(u.SelectValue,{})}),(0,s.jsxs)(u.SelectContent,{children:[(0,s.jsx)(u.SelectItem,{value:"10",children:"10"}),(0,s.jsx)(u.SelectItem,{value:"20",children:"20"}),(0,s.jsx)(u.SelectItem,{value:"50",children:"50"}),(0,s.jsx)(u.SelectItem,{value:"100",children:"100"})]})]}),(0,s.jsxs)("span",{children:["of ",e.length," entries"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>w(1),disabled:1===C,children:(0,s.jsx)(j,{className:"h-4 w-4"})}),(0,s.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===C,children:(0,s.jsx)(h.ChevronLeft,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{className:"px-4 text-sm",children:["Page ",C," of ",M]}),(0,s.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>w(e=>Math.min(M,e+1)),disabled:C===M,children:(0,s.jsx)(m.ChevronRight,{className:"h-4 w-4"})}),(0,s.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>w(M),disabled:C===M,children:(0,s.jsx)(v,{className:"h-4 w-4"})})]})]})]})}e.s(["DataTable",()=>f],89200)},41071,e=>{"use strict";let s=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>s],41071)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},12426,e=>{"use strict";let s=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],12426)},51975,e=>{"use strict";let s=(0,e.i(75254).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>s],51975)},30699,e=>{"use strict";let s=(0,e.i(75254).default)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);e.s(["Gift",()=>s],30699)},42074,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(70065),l=e.i(67881),i=e.i(94179),r=e.i(23750),c=e.i(10708),n=e.i(62870),d=e.i(30374),o=e.i(63415),x=e.i(89200),u=e.i(18589),h=e.i(7233),m=e.i(41071),p=e.i(88511),j=e.i(27612),v=e.i(75254);let g=(0,v.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var y=e.i(51975);let f=(0,v.default)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var N=e.i(12426),b=e.i(61911),C=e.i(25652),w=e.i(30699),k=e.i(46696);function D(){let{coupons:e,addCoupon:v,updateCoupon:D,deleteCoupon:S}=(0,u.useStore)(),[T,M]=(0,a.useState)(!1),[L,F]=(0,a.useState)({code:"",type:"",value:"",minOrderValue:"",maxDiscount:"",validFrom:"",validTo:"",usageLimit:""}),I=e.filter(e=>"active"===e.status).length,V=e.reduce((e,s)=>e+s.usedCount,0),O={active:"bg-success/20 text-success border-success/30",inactive:"bg-muted text-muted-foreground",expired:"bg-destructive/20 text-destructive border-destructive/30"},z=[{key:"code",header:"Coupon Code",cell:e=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,s.jsx)(y.Tag,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-mono font-bold",children:e.code}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.id})]})]})},{key:"discount",header:"Discount",cell:e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["percentage"===e.type?(0,s.jsx)(f,{className:"h-4 w-4 text-primary"}):(0,s.jsx)(N.DollarSign,{className:"h-4 w-4 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:"percentage"===e.type?`${e.value}%`:`₹${e.value}`}),e.maxDiscount&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Max: ₹",e.maxDiscount]})]})]})},{key:"minOrder",header:"Min Order",cell:e=>(0,s.jsxs)("span",{className:"text-sm",children:["₹",e.minOrderValue]})},{key:"validity",header:"Validity",cell:e=>(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{children:new Date(e.validFrom).toLocaleDateString()}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["to ",new Date(e.validTo).toLocaleDateString()]})]})},{key:"usage",header:"Usage",cell:e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[e.usedCount," / ",e.usageLimit]}),(0,s.jsx)("div",{className:"w-20 h-1.5 bg-secondary rounded-full mt-1",children:(0,s.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:`${e.usedCount/e.usageLimit*100}%`}})})]})},{key:"status",header:"Status",cell:e=>(0,s.jsx)(i.Badge,{variant:"outline",className:O[e.status],children:e.status})},{key:"actions",header:"Actions",cell:e=>(0,s.jsxs)(o.DropdownMenu,{children:[(0,s.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(m.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(o.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>{var s;return s=e.code,void(navigator.clipboard.writeText(s),k.toast.success(`Coupon code "${s}" copied to clipboard!`))},children:[(0,s.jsx)(g,{className:"mr-2 h-4 w-4"}),"Copy Code"]}),(0,s.jsxs)(o.DropdownMenuItem,{onClick:()=>{let s;return s="active"===e.status?"inactive":"active",void(D(e.id,{status:s}),k.toast.success(`Coupon "${e.code}" ${"active"===s?"activated":"deactivated"}`))},children:[(0,s.jsx)(p.Edit,{className:"mr-2 h-4 w-4"}),"active"===e.status?"Deactivate":"Activate"]}),(0,s.jsxs)(o.DropdownMenuItem,{className:"text-destructive",onClick:()=>{S(e.id),k.toast.success(`Coupon "${e.code}" deleted!`)},children:[(0,s.jsx)(j.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Coupon Management"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Create and manage discount coupons and offers"})]}),(0,s.jsxs)(d.Dialog,{open:T,onOpenChange:M,children:[(0,s.jsx)(d.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(l.Button,{children:[(0,s.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Create Coupon"]})}),(0,s.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(d.DialogHeader,{children:[(0,s.jsx)(d.DialogTitle,{children:"Create Coupon"}),(0,s.jsx)(d.DialogDescription,{children:"Create a new discount coupon"})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:e=>{if(e.preventDefault(),!L.code||!L.type||!L.value)return void k.toast.error("Please fill in all required fields");let s={id:`CPN-${Date.now()}`,code:L.code.toUpperCase(),type:L.type,value:Number(L.value),minOrderValue:Number(L.minOrderValue)||0,maxDiscount:L.maxDiscount?Number(L.maxDiscount):void 0,validFrom:L.validFrom||new Date().toISOString().split("T")[0],validTo:L.validTo||new Date(Date.now()+2592e6).toISOString().split("T")[0],usageLimit:Number(L.usageLimit)||100,usedCount:0,status:"active"};v(s),k.toast.success(`Coupon "${s.code}" created successfully!`),M(!1),F({code:"",type:"",value:"",minOrderValue:"",maxDiscount:"",validFrom:"",validTo:"",usageLimit:""})},children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"code",children:"Coupon Code *"}),(0,s.jsx)(r.Input,{id:"code",placeholder:"WELCOME20",className:"uppercase",value:L.code,onChange:e=>F({...L,code:e.target.value.toUpperCase()}),required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"type",children:"Discount Type *"}),(0,s.jsxs)(n.Select,{value:L.type,onValueChange:e=>F({...L,type:e}),children:[(0,s.jsx)(n.SelectTrigger,{id:"type",children:(0,s.jsx)(n.SelectValue,{placeholder:"Select"})}),(0,s.jsxs)(n.SelectContent,{children:[(0,s.jsx)(n.SelectItem,{value:"percentage",children:"Percentage (%)"}),(0,s.jsx)(n.SelectItem,{value:"fixed",children:"Fixed Amount (₹)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"value",children:"Value *"}),(0,s.jsx)(r.Input,{id:"value",type:"number",placeholder:"20",value:L.value,onChange:e=>F({...L,value:e.target.value}),required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"minOrder",children:"Min Order Value (₹)"}),(0,s.jsx)(r.Input,{id:"minOrder",type:"number",placeholder:"500",value:L.minOrderValue,onChange:e=>F({...L,minOrderValue:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"maxDiscount",children:"Max Discount (₹)"}),(0,s.jsx)(r.Input,{id:"maxDiscount",type:"number",placeholder:"200",value:L.maxDiscount,onChange:e=>F({...L,maxDiscount:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"validFrom",children:"Valid From"}),(0,s.jsx)(r.Input,{id:"validFrom",type:"date",value:L.validFrom,onChange:e=>F({...L,validFrom:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"validTo",children:"Valid To"}),(0,s.jsx)(r.Input,{id:"validTo",type:"date",value:L.validTo,onChange:e=>F({...L,validTo:e.target.value})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"usageLimit",children:"Usage Limit"}),(0,s.jsx)(r.Input,{id:"usageLimit",type:"number",placeholder:"1000",value:L.usageLimit,onChange:e=>F({...L,usageLimit:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>M(!1),children:"Cancel"}),(0,s.jsx)(l.Button,{type:"submit",children:"Create Coupon"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-primary/10",children:(0,s.jsx)(y.Tag,{className:"h-6 w-6 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:e.length}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Coupons"})]})]})}),(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-success/10",children:(0,s.jsx)(w.Gift,{className:"h-6 w-6 text-success"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:I}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Active Coupons"})]})]})}),(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-chart-1/10",children:(0,s.jsx)(b.Users,{className:"h-6 w-6 text-chart-1"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:V}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Redemptions"})]})]})}),(0,s.jsx)(t.Card,{children:(0,s.jsxs)(t.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-warning/10",children:(0,s.jsx)(C.TrendingUp,{className:"h-6 w-6 text-warning"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-2xl font-bold",children:["₹",(50*V).toLocaleString()]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Savings"})]})]})})]}),(0,s.jsx)(t.Card,{children:(0,s.jsx)(t.CardContent,{className:"p-6",children:(0,s.jsx)(x.DataTable,{data:e,columns:z,searchPlaceholder:"Search coupons...",onExport:()=>k.toast.success("Coupons exported!")})})})]})}e.s(["default",()=>D],42074)}]);